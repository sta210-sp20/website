---
title: "Regression Analysis Final Project"
author: ""
date: ""
output: 
  html_document:
    css: "sta210-project.css"
    toc: true
    toc_float: true
    toc_depth: 2
---

```{r echo=FALSE, fig.align="right",out.width="40%", out.extra='style="float:right; padding:10px"'}
knitr::include_graphics("img/reg-plot.png")
```

<style>
body, p, li{
  font-size: 18px; 
  font-weight: 400
}

h4 {
font-weight: bold; 
font-size: 22px;
color: #00897B;
}
</style>


The goal of the final project is to apply what you've learned in this course to conduct a statistical analysis. It should be an in-depth regression analysis of a question that interests your group. This question may come from one of your other courses, your research interests, your future career interests, etc. 

The project will consist of 

- **Proposal**: due Thu, March 5 at 11:59p EDT
- **Analysis**: due Thu, April 16 at 11:59p EDT
- **Presentation**: due Mon, April 27 at 11:59p EDT
  - **Watch presentations**: Tue, April 28 - Wed, April 29
  - **Respond to questions**: Thu, April 30 - Fri, May 1
- **Final write up**: due Wed, Apr 29 at 11:59p

# Data

It is best to start with the question of interest and finding the data second. As you're looking for data, keep in mind your regression analysis must be done using R. Once you find a data set, you should make sure you are able to load it into RStudio, especially if it is in a format we haven't used in class before. If you're having trouble loading your data set into RStudio, ask for help as soon as possible, so you can make any necessary adjustments before the project proposal is due. 

In order for you to have the greatest chance of success with this project it is important that you choose a manageable dataset. This means that the data should be readily accessible and large enough that multiple main effects and interactions can be explored for your model. **Your dataset must have at least 100 observations and at least 10 variables (exceptions can be made but you must speak with me first). The data set should include both quantitative and categorical variables.** 

**You are not permitted to reuse datasets used in examples/homework/labs in class.**

## Help finding data 

The Data Visualization Services team (located in Bostock library) has written a guide for finding data for a regression analysis. Please visit [*R Data Resources for Regression Analysis*](https://rfun.library.duke.edu/blog/data-sources-for-regression-analysis/) for guidelines to consider as you search for data along with suggestions for potential data sources.

Other sources that may be helpful: 

- [Kaggle](https://www.kaggle.com/datasets)
- [FiveThirtyEight datasets](https://data.fivethirtyeight.com/)
- ["TidyTuesday" datasets](https://github.com/rfordatascience/tidytuesday)

# Components

## Proposal (10 pt): due Thu, March 5 at 11:59p

There are two main purposes of the project proposal:

- To help you think about the project early, so you can get a head start on finding data, reading relevant literature, thinking about the questions you wish to answer, etc.
- To ensure that the data you wish to analyze, methods you plan to use, and the scope of your analysis are feasible and will help you be successful for this project.

You will address the following in your proposal: 

### Narrative

- What is the research question you wish to explore? This includes an introduction to the subject matter you're investigating, the motivation for the for your research question (citing any relevant literature), and your hypotheses regarding the research question of interest. 
- Describe the dataset you wish to explore. This includes describing the observations in the data, a general description of the variables, and how the data was originally collected (not how you found the data but how the original curator of the data collected it.)


<!--
#### Section 3 - Regression Analysis Plan

Description of the approach you will use to model the data. This includes 

  - Interactions you will consider
  - Model selection procedure
  - Regression modeling technique you will use and an explanation about why that method was chosen.
-->
    
### The Data

- Use the `glimpse` function print a summary of the data frame at the end of your proposal.
- Place your data in the `/data` folder, and add dimensions (number of observations and variables) and the data dictionary (a description of every variable in the dataset) to the README in the folder. Make sure the data dictionary is neatly formatted and easy to read. *If your dataset has a lot of variables (> 20), you can include 10 of the key variables in the data dictionary in the README with a link to the original data dictionary for all of the variables.*

### Submission 

To give you some experience with the type of workflow you'll experience in practice, you will submit the proposal and all other aspects of the project in your GitHub repo. You do not need to submit anything for the project on Gradescope. We will provide comment and feedback as an "issue" in your GitHub repo.


### Grading

Total                                                   | 10 pt
--------------------------------------------------------|--------
Narrative                                               | 5 pt
Data (glimpse & dataset in `data` folder)                                                    | 1 pt
Data dictionary                          | 2 pt
Organization and formatting                             | 2 pt


## Analysis (20 pt): due Thu, April 16 at 11:59p EDT

For this portion of the project, you will conduct the regression analysis and begin to derive your final conclusions. This will become the main portion of your final write up. The regression analysis should include the following: 

- Statement of the research question and modeling objective (prediction, inference, etc.)
- Description of the data and response variable
- Exploratory data analysis - univariate, bivariate, multivariate (i.e. visualizing potential interaction terms)
  - The EDA should include visualizations (with informative titles and axes labels) and summary statistics as you describe the main results from the visualizations. 
- Brief explanation of the modeling approach and why you chose the model type. This should include the model type, model selection procedure, and interaction terms you're considering for the final model.
- Output of the final model. *Note: The final model will be the result of numerous iterations and trying different models. You can include the other models you consider in the "Additional work" section at the end of the analysis write up.*
- Discussion of the assumptions for the final model
- Interpretations and interesting findings from the model coefficients
- Additional work of other models or analysis not included in the final model.

The regression analysis should be written as a report. Write your analysis in a .Rmd file called "analysis.Rmd" in your `project` folder on GitHub and output a PDF. Use `proposal.Rmd` to see an example YAML. 


## Presentation (15 pt): due Mon, April 27 at 11:59p EDT

In lieu of in-class presentations, you will post your presentation on Sakai. A few of your classmates, your TAs, and Professor Tackett will watch your presentation and post questions. 

**The presentation will consist of two components: (1) Slide deck and (2) Video presentation <u>OR</u> write up.**

### Slide deck 

Create a slide deck presenting the main findings of your analysis. The slide deck should have **no more than 6 content slides + 1 title slide**. Here is a *suggested* outline as you think through the slides; you do not have to use this exact format for the 6 slides.

- Title Slide
- Slide 1: Introduce the topic and motivation
- Slide 2: Introduce the dataset
- Slide 3: EDA highlights
- Slide 4: Final Model 
- Slide 5: Interesting findings from the model 
- Slide 6: Conclusions + Future work

You can use the software of your choice to create your slide deck. You can save your slide deck as PDF or provide a link to your slides if they are posted online. **Be sure you grant the correct access permissions, so Professor Tackett and your classmates have access to your slides.**

### Video or Write up

You will create a video presentation <u>OR</u> two-page write up to accompany your slide deck. One objective of the project is to give you experience presenting a statistical anlaysis through writing and an oral presentation. Therefore, if possible, I would strongly encourage your group to create a video presenting your slides. 

#### Video 

The video should be **<u>no more than 10 minutes </u>** (most presentations are about 8 - 10 minutes). For the presentation, you can speak over your slide deck, similar to the lecture content videos. I recommend using Zoom to record your presenation onto a team member's computer; however, you can use what works best for your group. Below are a few resources to help you record video presentations: 

- You can record presentation in Zoom. This is especially helpful for team presentations where all team members are available to join the Zoom meeting at the same time. 
    - Instructions for recording presentations in Zoom: https://kb.siue.edu/61721
- Apple Quicktime for screen recording:  https://support.apple.com/en-gb/guide/quicktime-player/qtp97b08e666/mac
- Windows 10 built-in screen recording functionality: https://www.youtube.com/watch?v=OfPbr1mRDuo
- Kap for screen recording: https://getkap.co/

You will post the presentation video in Warpwire, accessible from the left-hand tool bar on the course [Sakai](http://sakai.duke.edu) site. To post your video on Warpwire 

- Click *Warpwire* in the course Sakai site. 
- Click the "+" and select "Upload files". 
- Locate the video on your computer and click to upload. 
- Once you've uploaded the video to Warpwire, click to share the video and make a copy of the video's URL. You will need this when you post the video in the discussion forum. 

#### Write up

If it is not feasible for your group to make a video, you can write a two-page write up (single-spaced) to accompany your slide deck. You can think of the write up as a transcript of what you would say if you were presenting your results in class. **Save your write up as a PDF.** You will upload this write up with your slide deck to the discussion forum in Sakai. 

## Posting your presentation 

Each team will post their slide deck +  video or write up in the discussion forum in Sakai. To post your presentation: 

- Click on the *Recordings & Discussion* tab in the course Sakai site. 
- Click on the topic for your lab section. 
- Click on the conversation with your team name. Then, click to edit the conversation.
- If you have a *video presentation*:
    - Click the Warpwire icon (between the flag and shopping cart). 
    - Select the your video, then click "Insert 1 item." This will embed your video in the conversation. 
    - Under the video, paste the URL to your video. 
    - You're done! You do not need to post your slide deck.
- If you have a *write up*:
    - Click "Add Attachments". 
    - Add your slide deck *<u>and</u>* your write up. 
    - You're done! 

**The presentation must be posted on Sakai by Monday, April 27 at 11:59p EDT.**

## Presentation Grading

The presentation will be graded based on the following: 

- **Slide deck (5 pt)**: The slides are neatly organized, professional, and highlight the main aspects of the project. The slides are easy to read and do not contain excessive text. There are no more than 6 content slides. 
- **Video or write up (4 pt)**: The video or write up is professional, organized, and tells a clear narrative about the analysis. The video is no longer than 10 minutes or the write up is no longer than 2 pages single-spaced.
- **Content (6 pt)**: The analysis content covered in the slides + video or write up is clear and accurate. 

## Watch + comment on presentations (10 pt): Tue, April 28 - Wed, April 29

Each student will be assigned 3 presentations to watch. For each presentation, click "Reply" to post a question for the group. You may not post a question that's already been asked on the discussion thread. Additionally, the question should be (i) substantive (i.e. it can't be "Why did you use a histogram instead of boxplot"?), (ii) demonstrate your understanding of the content from the course, (iii) relevant to that group's specific presentation, i.e demonstrating that you've watched the presentation. 

All questions must be posted by **Wed, April 29 at 11:59p EDT**. This portion of the project will be assessed individually.  

## Respond to questions (10 pt): Thu, April 30 - Fri, May 1

As a group, you will respond to the questions posed to your group. Similar to the questions, the responses should be (i) substantive, (ii) demonstrate your understanding of the content from the course, and (iii) relevant to the specific question that was asked.

All responses must be submitted by **Fri, May 1 at 11:59p EDT**. This portion of the project will be assesed as a group. 

## Final Write Up (30 pt): due Wed, Apr 29 at 11:59p 

The goal of the write up is to demonstrate your ability to ask meaningful questions and answer them with the results from regression analysis, that you are proficient in using R, and that you are proficient at interpreting and  presenting the results. Focus on methods that help you begin to answer your research questions. You do not have to apply every statistical procedure we learned.
Also pay attention to your presentation. Neatness, coherency, and clarity will count. 

**You should incorporate the feedback you've received throughout the process in your write up.**

You can add sections as you see fit to the template in your project repo. At a minimum, your write up should have the following sections: 

- **Section 1: Introduction**
    - This section includes an introduction to the project motivation, data, and research question. It should also include the exploratory data analysis. 
    
- **Section 2: Regression Analysis**
    - This section includes the results of your final regression model. In addition to displaying the model output, you should include a brief description of why you chose that type of model and any interpretations/ interesting findings from the coefficients. You should also include a discussion of the model assumptions and model fit analysis. 

- **Section 3: Discussion & Limitations**
  - This section includes any relevant predictions and/or conclusions drawn from the model. Also critique your own methods and provide suggestions for improving your analysis. Issues pertaining to the reliability and validity of your data and appropriateness of the regression analysis should also be discussed here. A paragraph on what you would do differently if you were able to start over with the project or what you would do next if you were going to continue work on the project should also be included.

- **Section 4: Conclusion**
  -  This section includes a summary of your key results and highlight any final points you wish the reader to learn from the project.

- **Section 5: Additional Work**
  - This section includes any other models you tried, a check of the assumptions, and a brief explanation of why you didn’t select the model.

#### Grading

A rubric will be provided for the final write up. 
<!--
For each component, points will be awarded as follows: 

- *Full points*: Item is fully, thoroughly, and accurately addressed.
- *Half points*: Item partially addressed and/or has some inaccuracies.
- *No points*: Item is missing, is insufficiently addressed, or has substantial inaccuracies.

| **Component** 	| **Total** 	| **Assessment** 	|
|--------------------------	|-----------	|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------	|
| Introduction & EDA 	| 5 	| Is the research question, motivation for regression analysis, and data clearly described Are univariate distributions in the data clearly visualized and described using the appropriate summary statistics? Are relevant and interesting bivariate relationships clearly visualized and described using the appropriate summary statistics? 	|
| Regression Analysis 	| 20	| Is the final regression model appropriate for the data and the original research question/objective? Was a model beyond the main effects model considered? Does it appear the model fitting process was carefully thought out and executed? 	|
| Model Assumptions 	| 3 	| Are the assumptions and model diagnostics thoroughly and accurately assessed? If there are violations, are they accurately identified? Is there a reasonable attempt (i.e. based on what we’ve learned this semester) to correct violations in the assumptions? 	|
| Discussion & Limitations 	| 2 	| Are interesting findings from the model clearly described? If model is used for prediction, is the model’s predictive power thoroughly explored? Is there thorough discussion on model performance? Are the limitations carefully considered and described? 	|
| Writing & Organization 	| 3 	| What is the quality of the statistical presentation, writing, and explanations? Does write up tell a story? Is document neatly organized?,This includes appropriate section headers, figures appropriately sized with informative labels, all code suppressed in .md document, all R messages and warnings suppressed, narrative and output neatly organized. 	|
| **Total** 	| **** 	|  	|
--?> 

#### Grading
<br>

**Rubric for presentation grade**


| Component 	| Total 	| Assessment 	|
|-----------------	|-------	|-------------------------------------------------------------------------------------------------------------------------------	|
| Content 	| 5 	| The group told a unified story that highlights the main results from their analysis. 	|
| Slides 	| 5 	| The presentation slides were organized, included clear and informative visualizations, and were readable (not too much text). 	|
| Time Management	| 2 	| Team divided the time well, stayed within the 8 minute time limit, and all team members spoke. 	|
| Professionalism 	| 3 	| The group's presentation was clear and professional. 	|
| **Total** 	| **15** 	|  	|

<br>

**Rubric for classmate scores**

| **Component** 	| **Total** 	| **Assessment** 	|
|-----------------	|-----------	|-------------------------------------------------------------------------------------------------------------------------------	|
| Slides 	| 3 	| The presentation slides were organized, included clear and informative visualizations, and were readable (not too much text). 	|
| Professionalism 	| 2 	| The group's presentation was clear and professional. 	|
| **Total** 	| **5** 	|  	|



#### Deliverables

Your submission should include

* RMarkdown file (formatted to clearly present all of your code and results) 
* .md file (able to be viewed on GitHub, with all figures)
* Dataset(s) (in csv or RData format, in a `/data` folder)
* Presentation (if using Keynote/PowerPoint/Google Slides, export to PDF and put in repo, in a `/presentation` folder)

Style and format does count for this assignment, so please take the time to make 
sure everything looks good and your data and code are properly formatted.

-->

# Overall Grading 

Total                          | 100 pt
-------------------------------|--------
Proposal                       | 10 pt
Analysis                       | 20 pt
Final Write up                  | 30 pt
Presentation                   | 15 pt
Watch + comment on presentations| 10 pt
Respond to questions | 10 pt
Team peer evaluation           | 5 pt

**Team peer evaluation:** You will be asked to fill out a survey where you 
rate the contribution and teamwork of each team member out of 5 points. You will 
additionally report a contribution percentage for each team member. Filling out the 
survey is a prerequisite for getting credit on the team member evaluation.
If you are suggesting that an individual did less than 20% of the work, please
provide some explanation. If any individual gets an average peer score 
indicating that they did less than 10% of the work, this person will receive 
half the grade of the rest of the group.

The project will be graded based on the following criteria: 

- **Consistency: **Did you clearly answer the question of interest?
- **Clarity: **Can the audience easily understand your analysis process and any sort of conclusions/arguments you make?
- **Relevancy: **Did you use the appropriate statistical techniques to address your question? Was your analysis thorough (e.g. did you consider interactions in addition to main effects?)?
- **Interest: **Did you attempt to answer a challenging and interesting question rather than just calculating a lot of descriptive statistics and simple linear regression models?
- **Organization: **Is your write up and presentation organized in a way that is neat and clear for the audience to understand? 

A general breakdown of scoring is as follows:

- *90%-100%*: Outstanding effort. Student understands how to apply all statistical 
concepts, can put the results into a cogent argument, can identify weaknesses in 
the argument, and can clearly communicate the results to others.
- *80%-89%*: Good effort. Student understands most of the concepts, puts together 
an adequate argument, identifies some weaknesses of their argument, and communicates 
most results clearly to others.
- *70%-79%*: Passing effort. Student has misunderstanding of concepts in several 
areas, has some trouble putting results together in a cogent argument, and communication 
of results is sometimes unclear.
- *60%-69%*: Struggling effort. Student is making some effort, but has misunderstanding 
of many concepts and is unable to put together a cogent argument. Communication 
of results is unclear.
- *Below 60%*: Student is not making a sufficient effort.

**Late penalty:**

- Late, but within 24 hours of due date/time: -20% (only applies to written portion, there is no option to do your presentation later)
- Any later: no credit 

# Getting started

- Go to the course organization on GitHub: https://www.github.com/sta210-sp20

- Find the repo starting with `project` and that has your team name at the end (this should be the only `project` repo available to you).

- Follow the [usual instructions](https://www2.stat.duke.edu/courses/Spring20/sta210.001/labs/lab-01-review-r.html#getting-started) for cloning a new project in RStudio

# Tips

- You're working in the same repo as your teammates now, so merge conflicts will happen, issues will arise, and that’s fine! Commit and push often, and ask questions when stuck.

- Review the grading guidelines and ask questions if any of the expectations are unclear.

- Make sure each team member is contributing, both in terms of quality and quantity of contribution (we will be reviewing commits from different team members).

- Set aside time to work together both in the same location and remotely.

- When you're done, review the .md document on GitHub to make sure you're happy with the final state of your work.

- *Code*: In your write up your code should be hidden (`echo = FALSE`) so that your 
document is neat and easy to read. However your document should include 
all your code such that if I re-knit your Rmd file I should be 
able to obtain the results you presented. **Exception:** If you want to 
highlight something specific about a piece of code, you're welcomed to show 
that portion. 

- *Teamwork*: You are to complete the assignment as a team. All team members are expected 
to contribute equally to the completion of this assignment and group 
assessments will be given at its completion - anyone judged to not have sufficient 
contributed to the final product will have their grade penalized. While different 
teams members may have different backgrounds and abilities, it is the responsibility 
of every team member to understand how and why all code and approaches in 
the assignment works.

<!--
# Undergraduate Statistics Class Project Competition

The project for this class is eligible for the Undergraduate Statistics Class Project Competition sponsored by The Consortium for the Advancement of Undergraduate Statistics Education ([CAUSE](https://www.causeweb.org/cause/)) and the American Statistical Association ([ASA](https://www.amstat.org/)). Submissions are due on **<u>Friday, December 20, 2019</u>**. 

You can find more information about the project here: https://www.causeweb.org/usproc/usclap

This is a great opportunity to share your work outside of class and potentially win a cash prize! Please let Professor Tackett know if you are interested in submitting your project to the competition.

-->

# Additional resources

- [R for Data Science](https://r4ds.had.co.nz/)

- [ggplot2 Reference](https://ggplot2.tidyverse.org/reference/index.html)

- [ggplot2: Elegant Graphics for Data Analysis](https://ggplot2-book.org/)

- [*Data Visualization: A Practice Introduction*](https://socviz.co/index.html)

- [Data and Visualization Services walk-in office hours](https://library.duke.edu/data/about/schedule)


